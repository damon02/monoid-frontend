{"version":3,"sources":["components/login/actions.ts","components/header/Header.tsx","components/app/App.tsx","components/html/errorComponent/ErrorComponent.tsx","components/html/inputComponent/InputComponent.tsx","statics/constants.ts","utils/rest.ts","components/login/Login.tsx","components/register/Register.tsx","components/terminal/directories.js","components/terminal/Terminal.tsx","translations/nl_NL.js","statics/reducers.ts","utils/cookies.ts","components/app/reducer.ts","components/login/reducer.ts","index.tsx"],"names":["setAuth","auth","type","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleRouting","url","location","pathname","history","push","_this2","react","className","I18n","t","login","username","onClick","clearAuth","concat","React","withRouter","connect","state","ownProps","dispatch","App","loading","token","components_header_Header","Switch","Route","path","Redirect","to","ErrorComponent","message","align","faIcon","InputComponent","undefined","isValid","value","label","touched","onChange","e","target","onFocus","autoComplete","onKeyPress","onEnter","key","BASE_URL","registerUser","userName","emailAddress","password","options","method","headers","Content-Type","body","JSON","stringify","fetch","then","r","formatResponseFromBackend","loginUser","_callee","response","intermediateResponse","regenerator_default","a","wrap","_context","prev","next","handleGenericRestResponse","sent","success","Error","abrupt","data","stop","status","Promise","resolve","json","statusCode","Login","handleUsernameTouch","setState","utouched","handlePasswordTouch","ptouched","handleLogin","asyncToGenerator","mark","error","timestamp","Date","now","t0","console","errorComponent_ErrorComponent","html_inputComponent_InputComponent","Register","minLength","onPasswordChange","validation","getPasswordStrength","uppercase","test","lowercase","digits","symbols","len","length","handleRegistration","email","repeatedPassword","validated","password2","values","filter","x","log","directories","start","bin","boot",".cache","dev","etc","home","initrd.img","initrd.img.old","lib","lib32","lib64","libx32","lost+found","media","mnt","opt","proc","root","lol","run","sbin","srv","sys","tmp","usr","var","Terminal","handleLoginStep","cloneDeep","isPassword","loginStep","Array","join","isCommand","user","dir","_history","_history2","handleSubmit","event","preventDefault","input","newState","handleCommand","command","commandList","sort","cmdArray","split","isSudo","mainCommand","subCommands","slice","ns","me","activeDir","inputValue","dirTo","indexOf","backAmount","prefix","replace","get","keys","directory","Directories","myInp","prevProps","current","scrollIntoView","focus","map","item","renderHistory","onSubmit","ref","initialState","app","defaultValue","localStorage","parse","err","loadProperty","i18n","translations","nl","title","title_short","title_long","code","copyright","submit","register","forgot","repeatpassword","backLogin","minimal","matching","repeating","terminal","alreadyLoggedIn","loginSuccess","loggedOut","notLoggedIn","loginError","passNotStrong","passMatch","userInvalid","emailInvalid","locale","combinedReducers","combineReducers","arguments","action","assign","saveProperty","removeProperty","i18nReducer","store","createStore","syncTranslationWithStore","ReactDOM","render","react_default","createElement","es","HashRouter","basename","component","document","getElementById"],"mappings":"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","file":"static/js/main.c803d443.chunk.js","sourcesContent":["import { IAuthObject } from '../../statics/types'\r\n\r\nexport function setAuth(auth : IAuthObject) {\r\n  return {\r\n    type: 'SET_AUTH',\r\n    auth\r\n  }\r\n}\r\n\r\nexport function clearAuth() {\r\n  return {\r\n    type: 'CLEAR_AUTH'\r\n  }\r\n}","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { I18n } from 'react-redux-i18n'\r\nimport { RouteComponentProps, withRouter } from 'react-router'\r\nimport { Dispatch } from 'redux'\r\n\r\nimport { IRootProps } from '../../statics/types'\r\nimport { clearAuth } from '../login/actions'\r\n\r\nimport './Header.scss'\r\n\r\ninterface IHeaderProps extends IRootProps, RouteComponentProps<any> {\r\n  clearAuth: () => void\r\n}\r\n\r\nclass Header extends React.PureComponent<IHeaderProps, {}> {\r\n  constructor(props : IHeaderProps) {\r\n    super(props)\r\n  }\r\n\r\n  public render() {\r\n    const location = this.props.location.pathname\r\n\r\n    return (\r\n      <header className=\"header\">\r\n        <div className=\"top\">\r\n          <div className=\"logo\">\r\n            <div className=\"image\"/>\r\n            <div className=\"logotext\">{I18n.t('title_short')}</div>\r\n          </div>\r\n          <div className=\"right\">\r\n            <div className=\"whois\">{this.props.login.auth.username}</div>\r\n            <div className=\"buttons\">\r\n              <button className=\"alt\" onClick={() => this.handleRouting('/settings')}>\r\n                <span className=\"text\"><i className=\"fas fa-cog\"/></span>\r\n              </button>\r\n              <button className=\"alt\" onClick={() => this.props.clearAuth()}>\r\n                <span className=\"text\"><i className=\"fas fa-sign-out-alt\"/></span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"bottom\">\r\n          <div className=\"links\">\r\n            <button className={`linkbutton${location === '/terminal' ? ' active' : ''}`} onClick={() => this.handleRouting('/terminal')}>{I18n.t('header.terminal')}</button>\r\n            <button className={`linkbutton${location === '/link1' ? ' active' : ''}`} onClick={() => this.handleRouting('/link1')}>{I18n.t('header.link1')}</button>\r\n            <button className={`linkbutton${location === '/link2' ? ' active' : ''}`} onClick={() => this.handleRouting('/link2')}>{I18n.t('header.link2')}</button>\r\n            <button className={`linkbutton${location === '/link3' ? ' active' : ''}`} onClick={() => this.handleRouting('/link3')}>{I18n.t('header.link3')}</button>\r\n            <button className={`linkbutton${location === '/link4' ? ' active' : ''}`} onClick={() => this.handleRouting('/link4')}>{I18n.t('header.link4')}</button>\r\n            <button className={`linkbutton${location === '/link5' ? ' active' : ''}`} onClick={() => this.handleRouting('/link5')}>{I18n.t('header.link5')}</button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n    )\r\n  }\r\n\r\n  private handleRouting = (url : string) => {\r\n    if (this.props.location.pathname !== url) {\r\n      this.props.history.push(url)\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state : IRootProps, ownProps : {}) => state\r\nconst mapDispatchToProps = (dispatch : Dispatch) => {\r\n  return {\r\n    clearAuth : () => { dispatch(clearAuth()) }\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header))","import * as React from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect, Route, RouteComponentProps, Switch, withRouter } from 'react-router'\nimport { Dispatch } from 'redux'\n\nimport Header from '../header/Header'\n\nimport { IRootProps } from '../../statics/types'\nimport { clearAuth } from '../login/actions'\nimport './App.scss'\n\ninterface IAppProps extends IRootProps, RouteComponentProps<any> {\n  clearAuth : () => void\n}\n\ninterface IAppState {\n  loading: boolean\n}\n\nclass App extends React.PureComponent<IAppProps, IAppState> {\n  constructor(props: IAppProps) {\n    super(props)\n    this.state = {\n      loading: false\n    }\n  }\n\n  public render() {\n    if (!this.props.login.auth.token) {\n      return <Redirect to={'login'} />\n    }\n\n    return (\n      <div className=\"app\">\n        <Header />\n        <div className=\"content\">\n          <h2>Hello</h2>\n          <Switch>\n            <Route path=\"/\" />\n          </Switch>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state : IRootProps, ownProps : {}) => state\nconst mapDispatchToProps = (dispatch : Dispatch) => {\n  return {\n    clearAuth : () => { dispatch(clearAuth()) }\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App))","import * as React from 'react'\r\n\r\ninterface IErrorComponentProps {\r\n  message: string\r\n  faIcon?: string\r\n  onClick?: () => void\r\n  align?: 'left' | 'center' | 'right'\r\n}\r\n\r\nconst ErrorComponent : React.FunctionComponent<IErrorComponentProps> = (props) => (\r\n  props.message\r\n    ? (\r\n      <div \r\n        className={`error ${props.align || 'center'}${props.onClick ? ' clickable' : ''}`}\r\n        onClick={() => props.onClick ? props.onClick() : ({})}\r\n      >\r\n        {props.faIcon ? <i className={props.faIcon}/> : null}\r\n        <div className=\"message\">\r\n          {props.message}\r\n        </div>\r\n      </div>\r\n      )\r\n    : null\r\n)\r\n\r\nexport default ErrorComponent","import * as React from 'react'\r\nimport './InputComponent.scss'\r\n\r\ninterface IInputComponentProps {\r\n  label: string\r\n  type: 'date' | 'email' | 'number' | 'password' | 'text' | 'url'\r\n  value: string\r\n  onChange: (value : string) => void\r\n  isValid?: boolean\r\n  onFocus?: (x: boolean) => void\r\n  touched?: boolean\r\n  autoComplete?: 'on' | 'off'\r\n  faIcon?: string\r\n  onEnter? : () => void\r\n}\r\n\r\nconst InputComponent = (props : IInputComponentProps) => (\r\n  <div className={`inputComponent${props.isValid !== undefined ? props.isValid === false ? ' invalid' : ' valid' : ''}${props.faIcon ? ' icon-padding' : ''}`}>\r\n    <label className={`label ${props.value ? 'extended' : 'empty'}`}>{props.label}</label>\r\n    {props.faIcon ? <i className={`abs-fa ${props.faIcon}`}/> : null}\r\n    <input \r\n      className={`field${props.touched ? '' : ' untouched'}${props.faIcon ? ' icon-padding' : ''}`}\r\n      type={props.type}\r\n      value={props.value}\r\n      onChange={(e) => !props.onChange ? ({}) : props.onChange(e.target.value)}\r\n      onFocus={() => !props.onFocus ? ({}) : props.onFocus(true)}\r\n      autoComplete={props.autoComplete || 'on'}\r\n      onKeyPress={(e) => props.onEnter && e.key === 'Enter' ? props.onEnter() : ({})}\r\n    />\r\n  </div>\r\n)\r\n\r\nexport default InputComponent","export const BASE_URL = `http://145.24.222.68/api`","import { BASE_URL } from '../statics/constants'\r\nimport { IGenericAPIResponse, ILoginResponse, IRegisterResponse } from '../statics/types'\r\n\r\nexport function registerUser(userName : string, emailAddress : string, password: string) : Promise<IRegisterResponse> {\r\n  const options = {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      userName,\r\n      emailAddress,\r\n      password\r\n    })\r\n  }\r\n\r\n  return fetch(`${BASE_URL}/authorize/register-user`, options)\r\n    .then(r => formatResponseFromBackend<IRegisterResponse>(r))\r\n}\r\n\r\nexport function loginUser(userName : string, password : string) : Promise<ILoginResponse> {\r\n  const options = {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      userName,\r\n      password\r\n    })\r\n  }\r\n\r\n  return fetch(`${BASE_URL}/authorize/request-token`,options)\r\n    .then(r => formatResponseFromBackend<ILoginResponse>(r))\r\n}\r\n\r\n/**\r\n * Function which strips down a HTTP request from the server to the bare data needed for the frontend\r\n * @type T\r\n * @param response \r\n * @returns Promise<T[]>\r\n */\r\nasync function formatResponseFromBackend<T>(response : Response) : Promise<T | null> {\r\n  const intermediateResponse = await handleGenericRestResponse<Promise<IGenericAPIResponse<T>>>(response)\r\n  if (!intermediateResponse.success) {\r\n    throw new Error(intermediateResponse.message || 'An unknown error has occurred without any message.')\r\n  } else {\r\n    return intermediateResponse.data\r\n  }\r\n}\r\n\r\n/**\r\n * Strongly typed generic response handler for HTTP requests\r\n * @param response \r\n */\r\nfunction handleGenericRestResponse<T>(response : Response) : Promise<T> {\r\n  if (response.status >= 200 && response.status < 300) {\r\n      return Promise.resolve(response.json())\r\n  } else {\r\n      return Promise.resolve(response.json())\r\n        .then(message => {\r\n            const err : Error = new Error(`${message.message} (code ${message.statusCode})`)\r\n            throw err\r\n        })\r\n  }\r\n}","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { I18n } from 'react-redux-i18n'\r\nimport { RouteComponentProps, withRouter } from 'react-router'\r\nimport { Dispatch } from 'redux'\r\n\r\nimport ErrorComponent from '../html/errorComponent/ErrorComponent'\r\nimport InputComponent from '../html/inputComponent/InputComponent'\r\n\r\nimport { IAuthObject, IRootProps } from '../../statics/types'\r\nimport { loginUser } from '../../utils/rest'\r\nimport { setAuth } from './actions'\r\n\r\nimport './Login.scss'\r\n\r\ninterface ILoginComponentProps extends IRootProps, RouteComponentProps<any> {\r\n  setAuth: (auth: IAuthObject) => void\r\n}\r\n\r\ninterface ILoginState {\r\n  username: string\r\n  utouched: boolean\r\n  password: string\r\n  ptouched: boolean\r\n  loading: boolean\r\n  error: string\r\n}\r\n\r\nclass Login extends React.PureComponent<ILoginComponentProps, ILoginState> {\r\n  constructor(props: ILoginComponentProps) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      utouched: false,\r\n      password: '',\r\n      ptouched: false,\r\n      loading: false,\r\n      error: '',\r\n    }\r\n  }\r\n\r\n  public componentDidMount() {\r\n    if (this.props.login.auth.token) {\r\n      this.props.history.push(`/`)\r\n    }\r\n  }\r\n\r\n  public componentDidUpdate() {\r\n    if (this.props.login.auth.token) {\r\n      this.props.history.push(`/`)\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"login-wrapper\">\r\n        <div className={`back-wrap${this.state.loading ? ' loading' : ''}`}>\r\n          <div className=\"background-img\"/>\r\n        </div>\r\n        <ErrorComponent \r\n          message={this.state.error ? I18n.t(`error.${this.state.error}`) : ''}\r\n          faIcon={'fas fa-times'}\r\n          onClick={() => this.setState({ error: '' })}\r\n        />\r\n        <div className=\"login-floaty\">\r\n          <h1>{I18n.t('login.title')}</h1>\r\n          <InputComponent \r\n            label={I18n.t('login.username')}\r\n            type={'text'}\r\n            value={this.state.username}\r\n            onChange={(username : string) => this.setState({ username })}\r\n            onFocus={() => this.handleUsernameTouch()}\r\n            touched={this.state.utouched}\r\n            autoComplete={'off'}\r\n          />\r\n          <InputComponent \r\n            label={I18n.t('login.password')}\r\n            type={'password'}\r\n            value={this.state.password}\r\n            onChange={(password : string) => this.setState({ password })}\r\n            onFocus={() => this.handlePasswordTouch()}\r\n            touched={this.state.ptouched}\r\n            autoComplete={'off'}\r\n            onEnter={() => this.handleLogin()}\r\n          />\r\n          <div className=\"buttons\">\r\n            <button className=\"button\" onClick={() => this.handleLogin()}>\r\n              <span className=\"text\">\r\n                {this.state.loading \r\n                  ? <i className=\"fas fa-circle-notch fa-spin\"/>\r\n                  : I18n.t('login.submit')\r\n                }\r\n              </span>\r\n            </button>\r\n            <button className=\"button\" onClick={() => this.props.history.push(`/register`)}>\r\n              <span className=\"text\">{I18n.t('login.register')}</span>\r\n            </button>\r\n          </div>\r\n          <button className=\"hyperlink\">{I18n.t('login.forgot')}</button>\r\n          {/* {this.state.passwordForgot\r\n            ? <div className=\"forgotpass\">\r\n              <InputComponent\r\n                label={I18n.t('login.username')} \r\n                type={'email'}\r\n                value={this.state.passwordForgotValue} \r\n              />\r\n            </div>\r\n            : null\r\n          } */}\r\n        </div>\r\n        <div className=\"monoid-logo\"/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  public handleUsernameTouch = () => {\r\n    this.setState({ utouched: true })\r\n  }\r\n\r\n  public handlePasswordTouch = () => {\r\n    this.setState({ ptouched: true })\r\n  }\r\n\r\n  public handleLogin = async () => {\r\n    try {\r\n      this.setState({ loading: true, error: '' })\r\n      const response = await loginUser(this.state.username, this.state.password)\r\n      this.setState({ loading: false })\r\n      \r\n      if (response) {      \r\n        this.props.setAuth({ username: response.userName, token: response.token, timestamp: Date.now() })\r\n      } else {\r\n        this.setState({ error: 'loginError' })\r\n        throw new Error('No data returned from backend')\r\n      }\r\n      \r\n    } catch (error) {\r\n      this.setState({ loading: false, error: 'loginError' })\r\n      console.error()\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state : IRootProps, ownProps : {}) => state\r\nconst mapDispatchToProps = (dispatch : Dispatch) => {\r\n  return {\r\n    setAuth : (auth : IAuthObject) => { dispatch(setAuth(auth)) }\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Login))","import { values } from 'lodash'\r\nimport * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { I18n } from 'react-redux-i18n'\r\nimport { RouteComponentProps, withRouter } from 'react-router'\r\n\r\nimport ErrorComponent from '../html/errorComponent/ErrorComponent'\r\nimport InputComponent from '../html/inputComponent/InputComponent'\r\n\r\nimport { IRootProps } from '../../statics/types'\r\nimport { registerUser } from '../../utils/rest'\r\nimport './Register.scss'\r\n\r\ninterface IRegisterProps extends IRootProps, RouteComponentProps<any> {\r\n\r\n}\r\n\r\ninterface IRegisterState {\r\n  username: string\r\n  email: string\r\n  password: string\r\n  password2: string\r\n  error: string\r\n  loading: boolean\r\n  success: boolean\r\n  validation: {\r\n    uppercase: boolean\r\n    lowercase: boolean\r\n    digits: boolean\r\n    symbols: boolean\r\n    len: boolean\r\n  }\r\n}\r\n\r\nclass Register extends React.PureComponent<IRegisterProps, IRegisterState> {\r\n  private minLength = 10\r\n  \r\n  constructor(props : IRegisterProps) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      password2: '',\r\n      error: '',\r\n      loading: false,\r\n      success: false,\r\n      validation: {\r\n        uppercase: false,\r\n        lowercase: false,\r\n        digits: false,\r\n        symbols: false,\r\n        len: false\r\n      }\r\n    }\r\n  }\r\n  \r\n  public componentDidMount() {\r\n    if (this.props.login.auth.token) {\r\n      this.props.history.push(`/`)\r\n    }\r\n  }\r\n\r\n  public render () {\r\n    return (\r\n      <div className=\"register-wrapper\">\r\n        <div className=\"back-wrap\">\r\n          <div className=\"background-img\"/>\r\n        </div>\r\n        <ErrorComponent \r\n          message={this.state.error ? I18n.t(`error.${this.state.error}`) : ''}\r\n          faIcon={'fas fa-times'}\r\n          onClick={() => this.setState({ error: '' })}\r\n        />\r\n        {this.state.success\r\n          ? <div className=\"register-floaty\">\r\n            <h2>{I18n.t('register.success')}</h2>\r\n            <button className=\"button\" onClick={() => this.props.history.push('/login')}>\r\n              <span className=\"text\">\r\n                {I18n.t('register.backLogin')}\r\n              </span>\r\n            </button>\r\n          </div>\r\n          : [<div className=\"register-floaty\" key={1}>\r\n          <h1>{I18n.t('register.title')}</h1>\r\n          <button className=\"hyperlink\" onClick={() => this.props.history.push('/login')}>{I18n.t('register.backLogin')}</button>\r\n          <InputComponent\r\n            label={I18n.t('register.username')}\r\n            type={'email'}\r\n            value={this.state.username}\r\n            onChange={(username) => this.setState({ username })}\r\n            isValid={this.state.username.length !== 0}\r\n          />\r\n          <InputComponent\r\n            label={I18n.t('register.email')}\r\n            type={'email'}\r\n            value={this.state.email}\r\n            onChange={(email) => this.setState({ email })}\r\n            isValid={this.state.error !== 'emailInvalid' || this.state.email.length !== 0}\r\n          />\r\n          <InputComponent\r\n            label={I18n.t('register.password')}\r\n            type={'password'}\r\n            value={this.state.password}\r\n            onChange={(password) => this.onPasswordChange(password)}\r\n          />\r\n          <InputComponent\r\n            label={I18n.t('register.repeatpassword')}\r\n            type={'password'}\r\n            value={this.state.password2}\r\n            onChange={(password2) => this.setState({ password2 })}\r\n          />\r\n\r\n          <button className=\"button\" onClick={() => this.handleRegistration()}>\r\n            <span className=\"text\">\r\n              {this.state.loading \r\n                  ? <i className=\"fas fa-circle-notch\"/>\r\n                  : I18n.t('register.submit')\r\n              }\r\n            </span>\r\n          </button>\r\n        </div>,\r\n        <div className=\"validation\" key={2}>\r\n          <div className={`validate-object ${this.state.validation.uppercase ? 'valid' : 'invalid'}`}>\r\n            <i className={`${this.state.validation.uppercase ? 'far fa-check-circle' : 'far fa-circle'}`} />\r\n            <div className=\"message\">{I18n.t('register.uppercase')}</div>\r\n          </div>\r\n          <div className={`validate-object ${this.state.validation.lowercase ? 'valid' : 'invalid'}`}>\r\n            <i className={`${this.state.validation.lowercase ? 'far fa-check-circle' : 'far fa-circle'}`} />\r\n            <div className=\"message\">{I18n.t('register.lowercase')}</div>\r\n          </div>\r\n          <div className={`validate-object ${this.state.validation.digits ? 'valid' : 'invalid'}`}>\r\n            <i className={`${this.state.validation.digits ? 'far fa-check-circle' : 'far fa-circle'}`} />\r\n            <div className=\"message\">{I18n.t('register.digits')}</div>\r\n          </div>\r\n          <div className={`validate-object ${this.state.validation.symbols ? 'valid' : 'invalid'}`}>\r\n            <i className={`${this.state.validation.symbols ? 'far fa-check-circle' : 'far fa-circle'}`} />\r\n            <div className=\"message\">{I18n.t('register.symbols')}</div>\r\n          </div>\r\n          <div className={`validate-object ${this.state.validation.len ? 'valid' : 'invalid'}`}>\r\n            <i className={`${this.state.validation.len ? 'far fa-check-circle' : 'far fa-circle'}`} />\r\n            <div className=\"message\">{I18n.t('register.length')}</div>\r\n          </div>\r\n        </div>]\r\n        }\r\n        <div className=\"monoid-logo\"/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  private onPasswordChange = (password : string) => {\r\n    const validation = this.getPasswordStrength(password)\r\n    this.setState({ password, validation })\r\n  }\r\n\r\n  private getPasswordStrength = (password: string) : IRegisterState['validation'] => {\r\n    return {\r\n      uppercase: /[A-Z]/.test(password),\r\n      lowercase: /[a-z]/.test(password),\r\n      digits: /[0-9]/.test(password),\r\n      symbols: /[^A-Za-z0-9]/.test(password),\r\n      len: password.length >= this.minLength,\r\n    }\r\n  }\r\n\r\n  private handleRegistration = async () => {\r\n    const username = this.state.username\r\n    const email = this.state.email\r\n    const password = this.state.password\r\n    const repeatedPassword = this.state.password2\r\n\r\n    const validated = values(this.state.validation).filter(x => x === false)\r\n    console.log(validated)\r\n\r\n    if (this.state.username.length === 0) {\r\n      this.setState({ error: 'emailInvalid' })\r\n    } else if (validated.length >= 1) {\r\n      this.setState({ error: 'passNotStrong' })\r\n    } else if (password !== repeatedPassword) {\r\n      this.setState({ error: 'passMatch' })\r\n    } else {\r\n      // SUCCESS HANDLING\r\n      try {\r\n        this.setState({ loading: true, error: '' })\r\n        // TODO: registration handling\r\n        // 1. POST to API with username, pass\r\n        // 2. Retrieve 200 OK\r\n        // 3. Set success to true\r\n        // 4. Let user redirect itself to login\r\n\r\n        const response = await registerUser(username, email, password) \r\n        console.log(response)\r\n\r\n        this.setState({ loading: false, error: '', success: true })\r\n      } catch (error) {\r\n        console.error(error)\r\n        this.setState({ loading: false, error: 'registrationFail' })\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(state => state)(Register))","export default {\r\n  'start' : {\r\n    bin: {},\r\n    boot: {},\r\n    '.cache': {},\r\n    dev: {},\r\n    etc: {},\r\n    home: {},\r\n    'initrd.img': {},\r\n    'initrd.img.old': {},\r\n    lib: {},\r\n    lib32: {},\r\n    lib64: {},\r\n    libx32: {},\r\n    'lost+found': {},\r\n    media: {},\r\n    mnt: {},\r\n    opt: {},\r\n    proc: {},\r\n    root: {\r\n      lol: {}\r\n    },\r\n    run: {},\r\n    sbin: {},\r\n    srv: {},\r\n    sys: {},\r\n    tmp: {},\r\n    usr: {},\r\n    var: {}\r\n  }\r\n}","import { cloneDeep, get } from 'lodash'\r\nimport * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { I18n } from 'react-redux-i18n'\r\nimport { RouteComponentProps, withRouter } from 'react-router'\r\nimport { Dispatch } from 'redux'\r\n\r\nimport { IAuthObject, IRootProps } from '../../statics/types'\r\nimport { loginUser } from '../../utils/rest'\r\nimport Directories from './directories'\r\n\r\nimport { clearAuth, setAuth } from '../login/actions'\r\n\r\nimport './Terminal.scss'\r\n\r\ninterface ITerminalProps extends IRootProps, RouteComponentProps<any> {\r\n  clearAuth: () => void\r\n  setAuth: (auth: IAuthObject) => void\r\n}\r\n\r\ninterface ITerminalState {\r\n  username: string\r\n  password: string\r\n  loading: boolean\r\n  history: IHistoryItem[]\r\n  inputValue: string\r\n  loginStep: 0 | 1 | 2\r\n  directories: []\r\n  activeDir: string[]\r\n}\r\n\r\ninterface IHistoryItem {\r\n  isCommand: boolean\r\n  user: string\r\n  dir: string\r\n  value: string\r\n}\r\n\r\nclass Terminal extends React.PureComponent<ITerminalProps, ITerminalState> {\r\n  public me: string\r\n  public myInp: React.RefObject<HTMLInputElement>\r\n\r\n  constructor(props : ITerminalProps) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      loading: false,\r\n      history: [],\r\n      inputValue: '',\r\n      loginStep: 0,\r\n      directories: Directories,\r\n      activeDir: []\r\n    }\r\n    this.me = `guest`\r\n    this.myInp = React.createRef()\r\n  }\r\n\r\n  public componentDidMount() {\r\n    if (this.props.login.auth.username) {\r\n      this.me = this.props.login.auth.username\r\n    }\r\n  }\r\n\r\n  public componentDidUpdate(prevProps: ITerminalProps) {\r\n    if (this.myInp && this.myInp.current) {\r\n      this.myInp.current.scrollIntoView()\r\n    }\r\n\r\n    if (this.props.login.auth.username && this.props.login.auth.username !== prevProps.login.auth.username) {\r\n      this.me = this.props.login.auth.username\r\n    } else if (!this.props.login.auth.username) {\r\n      this.me = 'guest'\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"terminal dark\" onClick={() => this.myInp.current && this.myInp.current.focus()}>\r\n        {this.state.history.map((item, key) => this.renderHistory(item, key))}\r\n        {this.state.loginStep === 0 \r\n          ? <form onSubmit={(e) => this.handleSubmit(e)}>\r\n            <span>{this.me}@{I18n.t('code')}:~{this.state.activeDir.join('/')} $ </span>\r\n            <input\r\n              value={this.state.inputValue}\r\n              className=\"terminal-input\"\r\n              autoComplete=\"off\"\r\n              onChange={(e) => this.setState({ inputValue: e.target.value })}\r\n              ref={this.myInp}\r\n            />\r\n          </form>\r\n          : this.state.loginStep === 1 \r\n            ? <form onSubmit={() => this.handleLoginStep()}>\r\n              <span>Username: </span>\r\n              <input\r\n                value={this.state.username}\r\n                className=\"terminal-input\"\r\n                autoComplete=\"off\"\r\n                onChange={(e) => this.setState({ username: e.target.value })}\r\n                ref={this.myInp}\r\n              />\r\n            </form>\r\n            : <form onSubmit={() => this.handleLoginStep()}>\r\n            <span>Password: </span>\r\n            <input\r\n              value={this.state.password}\r\n              className=\"terminal-input\"\r\n              autoComplete=\"off\"\r\n              type={'password'}\r\n              onChange={(e) => this.setState({ password: e.target.value })}\r\n              ref={this.myInp}\r\n            />\r\n          </form>\r\n        }\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  public handleLoginStep = () => {\r\n    const history = cloneDeep(this.state.history)\r\n\r\n    if (!this.props.login.auth.token) {\r\n      const isPassword = this.state.loginStep === 2\r\n      const value = isPassword\r\n        ? new Array(this.state.password.length + 1).join('•')\r\n        : this.state.username\r\n  \r\n      history.push({\r\n        isCommand: false,\r\n        user: '',\r\n        dir: '',\r\n        value: `${isPassword ? 'Password: ' : 'Username: '}${value}`\r\n      })\r\n      \r\n      if (value.length >= 1) {\r\n        this.setState({ loginStep: isPassword ? 0 : 2, history })    \r\n        if (isPassword) {\r\n          this.handleLogin()\r\n        }\r\n      } else {\r\n        this.setState({ history })\r\n      }\r\n    }\r\n  }\r\n\r\n  public handleLogin = async () => {\r\n    try {\r\n      const response = await loginUser(this.state.username, this.state.password)\r\n      const history = cloneDeep(this.state.history)\r\n      \r\n      if (response) {      \r\n        this.props.setAuth({ username: response.userName, token: response.token, timestamp: Date.now() })\r\n        history.push({\r\n          isCommand: false,\r\n          dir: '',\r\n          user: '',\r\n          value: I18n.t('terminal.loginSuccess', { user: response.userName })\r\n        })\r\n      } else {\r\n        history.push({\r\n          isCommand: false,\r\n          dir: '',\r\n          user: '',\r\n          value: I18n.t('terminal.loginError')\r\n        })\r\n      }\r\n      \r\n      this.setState({ history, username: '', password: '' })\r\n    } catch (error) {\r\n      const history = cloneDeep(this.state.history)\r\n      history.push({\r\n        isCommand: false,\r\n        dir: '',\r\n        user: '',\r\n        value: I18n.t('terminal.loginError')\r\n      })\r\n\r\n      this.setState({ history, username: '', password: '' })\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  public renderHistory (item : IHistoryItem, key : number) {\r\n    const prefix = item.isCommand\r\n      ? <span className=\"prefix\">{item.user}@{I18n.t('code')}:~{item.dir} $ </span>\r\n      : null\r\n    return <div key={key}>{prefix}{item.value}</div>\r\n  }\r\n\r\n  public handleSubmit = (event : React.FormEvent) => {\r\n    event.preventDefault()\r\n\r\n    const input = event.target[0].value\r\n    const newState = this.handleCommand(input, this.state)\r\n\r\n    this.setState(newState)\r\n  } \r\n\r\n  public handleCommand = (command : string, state: ITerminalState) : ITerminalState => {\r\n    const commandList = ['login', 'logout', 'clear', 'help', 'ls', 'cd'].sort()\r\n    const cmdArray = command.split(' ')\r\n\r\n    const isSudo = cmdArray[0] === 'sudo'\r\n    const mainCommand = isSudo ? cmdArray[1] : cmdArray[0]\r\n    const subCommands =  cmdArray.slice(isSudo ? 2 : 1, cmdArray.length)\r\n\r\n    const ns = cloneDeep(state)\r\n    const user = cloneDeep(this.me)\r\n    ns.history.push({ isCommand: true, user, value: command, dir: this.state.activeDir.join('/') })\r\n    ns.inputValue = ''\r\n\r\n    switch(mainCommand) {\r\n      case 'clear':\r\n        ns.history = []\r\n        break\r\n\r\n      case 'su': {\r\n        if (isSudo) {\r\n          this.me = `root`\r\n        } else {\r\n          ns.history.push({ \r\n            isCommand: false, \r\n            user, \r\n            dir: this.state.activeDir.join('/'), \r\n            value: `${user} is not allowed to run sudo su` \r\n          })\r\n        }\r\n        break\r\n      }\r\n\r\n      case 'help': {\r\n        ns.history.push({\r\n          isCommand: false,\r\n          dir: this.state.activeDir.join('/'),\r\n          user,\r\n          value: commandList.join(' ')\r\n        })\r\n        break\r\n      }\r\n\r\n      case 'login': {\r\n        if (this.props.login.auth.token) {\r\n          ns.history.push({\r\n            isCommand: false,\r\n            dir: '',\r\n            user: '',\r\n            value: I18n.t('terminal.alreadyLoggedIn')\r\n          })\r\n        } else {\r\n          ns.loginStep = 1\r\n        }\r\n        break\r\n      }\r\n\r\n      case 'logout': {\r\n        if (this.props.login.auth.token) {\r\n          this.props.clearAuth()\r\n          ns.history.push({\r\n            isCommand: false,\r\n            dir: '',\r\n            user: '',\r\n            value: I18n.t('terminal.loggedOut')\r\n          })\r\n        } else {\r\n          ns.history.push({\r\n            isCommand: false,\r\n            dir: '',\r\n            user: '',\r\n            value: I18n.t('terminal.notLoggedIn')\r\n          })\r\n        }\r\n        break\r\n      }\r\n\r\n      case 'cd': {\r\n        const activeDir = cloneDeep(this.state.activeDir)\r\n        // const nestingLevel = activeDir.length - 1\r\n        const dirTo = subCommands[0]\r\n        \r\n        if ((dirTo.indexOf('../') !== -1 || dirTo.indexOf('..') !== -1) && activeDir && activeDir.length >= 1) {\r\n          // Back traversal\r\n          const backAmount = dirTo.indexOf('../') !== -1 ? dirTo.split('/').length - 2 : 2\r\n          ns.activeDir = activeDir.slice(0, activeDir.length - backAmount - 1)\r\n        } else if (!dirTo || dirTo.length === 0) {\r\n          // Invalid\r\n\r\n          ns.history.push({\r\n            isCommand: false,\r\n            dir: this.state.activeDir.join('/'),\r\n            user,\r\n            value: `${activeDir.join('/')}`\r\n          })\r\n        } else {\r\n          // Forward traversal\r\n          // Check if dir of subcommand is inside subdir\r\n          const prefix = this.state.activeDir.join('/').replace(/\\//g, '.')\r\n          const dir = get(this.state.directories, `start${prefix.length > 1 ? `.${prefix}.` : '.'}${dirTo.replace(/\\//g, '.')}`)\r\n          \r\n          if (dir) {\r\n            ns.activeDir = this.state.activeDir.concat(dirTo)\r\n          } else {\r\n            ns.history.push({\r\n              isCommand: false,\r\n              dir: this.state.activeDir.join('/'),\r\n              user,\r\n              value: `directory ${dirTo} does not exist`\r\n            })\r\n          }\r\n\r\n        }\r\n        break\r\n      }\r\n\r\n      case 'ls': {\r\n        const prefix = this.state.activeDir.join('/').replace(/\\//g, '.')\r\n        const dir = this.state.activeDir.length > 0 \r\n          ? get(this.state.directories, `start.${prefix.length > 1 ? `${prefix}` : '.'}`)\r\n          : get(this.state.directories, 'start')\r\n\r\n        if (dir && Object.keys(dir).length > 0) {\r\n          ns.history.push({\r\n            isCommand: false,\r\n            dir: this.state.activeDir.join('/'),\r\n            user,\r\n            value: Object.keys(dir).join(' ')\r\n          })\r\n        } else {\r\n          ns.history.push({\r\n            isCommand: false,\r\n            dir: this.state.activeDir.join('/'),\r\n            user,\r\n            value: `This directory is empty`\r\n          })\r\n        }\r\n        break\r\n      }\r\n\r\n      case 'pwd': {\r\n        const directory = this.state.activeDir.length > 0 ? this.state.activeDir.join('/') : '/'\r\n        ns.history.push({\r\n          isCommand: false,\r\n          dir: this.state.activeDir.join('/'),\r\n          user,\r\n          value: directory\r\n        })\r\n        break\r\n      }\r\n\r\n      case '': {\r\n        break\r\n      }\r\n\r\n      default: {\r\n        ns.history.push({ \r\n          isCommand: false, \r\n          dir: this.state.activeDir.join('/'),\r\n          user,\r\n          value: `-bash: ${command}: command not found`\r\n        })\r\n      }\r\n    }\r\n\r\n\r\n    return ns\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state : IRootProps, ownProps : {}) => state\r\nconst mapDispatchToProps = (dispatch : Dispatch) => {\r\n  return {\r\n    setAuth : (auth : IAuthObject) => { dispatch(setAuth(auth)) },\r\n    clearAuth: () => { dispatch(clearAuth()) }\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Terminal))","export default {\r\n  title: 'Project NIDS',\r\n  title_short: 'NIDS',\r\n  title_long: 'Network Intrusion Detection System',\r\n  code: 'nids',\r\n  copyright: `© Monoid Inc | 2018-2019`,\r\n\r\n  \r\n  login: {\r\n    title: 'Inloggen',\r\n    username: 'Gebruikersnaam',\r\n    email: 'E-mail',\r\n    password: 'Wachtwoord',\r\n    submit: 'Log in',\r\n    register: 'Registreer',\r\n    forgot: 'Wachtwoord vergeten?',\r\n  },\r\n\r\n  register: {\r\n    title: 'Registreer',\r\n    username: 'Gebruikersnaam',\r\n    email: 'E-mail',\r\n    password: 'Wachtwoord',\r\n    repeatpassword: 'Herhaal uw wachtwoord',\r\n    submit: 'Registreer',\r\n    backLogin: 'Ga terug naar login',\r\n\r\n    minimal: 'Minimaal',\r\n    uppercase: 'Minimaal 1 hoofdletter',\r\n    lowercase: 'Minimaal 1 kleine letter',\r\n    symbols: 'Minimaal 1 symbool',\r\n    digits: 'Minimaal 1 getal',\r\n    length: 'Minimaal 10 karakters lang',\r\n    matching: 'Uw wachtwoorden komen overeen.',\r\n    repeating: 'Uw wachtwoord mag niet 3 of meer dezelfde karakters achter elkaar bevatten.',\r\n    success: 'Registratie is gelukt! U kunt nu inloggen met uw gebruikersnaam en wachtwoord.',\r\n  },\r\n\r\n  terminal: {\r\n    alreadyLoggedIn: 'U bent al reeds ingelogd',\r\n    loginSuccess: '%{user} is met succes ingelogd',\r\n    loggedOut: 'U heeft uitgelogd',\r\n    notLoggedIn: 'U moet ingelogd zijn om deze actie uit te voeren',\r\n    loginError: 'Er ging iets fout met inloggen, probeer het nog eens.',\r\n  },\r\n  \r\n  error: {\r\n    loginError: 'Er ging iets fout met inloggen, probeer het nog eens.',\r\n    passNotStrong: 'Uw wachtwoord is niet sterk genoeg.',\r\n    passMatch: 'Uw wachtwoorden komen niet overeen',\r\n    userInvalid: 'Uw gebruikersnaam klopt niet.',\r\n    emailInvalid: 'Uw email adres klopt niet.',\r\n  }\r\n}","import { i18nReducer } from 'react-redux-i18n'\r\nimport { combineReducers } from 'redux'\r\n\r\nimport { appReducer } from '../components/app/reducer'\r\nimport { loginReducer } from '../components/login/reducer'\r\n\r\nimport nl_NL from '../translations/nl_NL'\r\nimport { loadProperty } from '../utils/cookies'\r\nimport { IAuthObject, II18nState, IRootProps } from './types'\r\n\r\nconst emptyAuthObject : IAuthObject = {\r\n  username: null,\r\n  token: null,\r\n  timestamp: null\r\n}\r\n\r\nconst auth : IAuthObject = loadProperty('auth', emptyAuthObject)\r\n\r\nexport const initialState : IRootProps = {\r\n  app: {\r\n    data: []\r\n  },\r\n  login: {\r\n    auth\r\n  },\r\n  i18n: {\r\n    translations: { nl: nl_NL },\r\n    locale: 'nl'\r\n  } as II18nState,\r\n}\r\n\r\nexport const combinedReducers = combineReducers({\r\n  app: appReducer,\r\n  login: loginReducer,\r\n  i18n: i18nReducer\r\n})","/**\r\n * Function to load values from local storage through a key\r\n * @param key Key to load from local storage\r\n * @param defaultValue Default value if the key is not found inside local storage\r\n */\r\nexport function loadProperty(key: string, defaultValue: any) {\r\n  try {\r\n    const value = localStorage[key]\r\n\r\n    return value !== undefined ? JSON.parse(value) : defaultValue\r\n  } catch (err) {\r\n    console.error(err)\r\n    return defaultValue\r\n  }\r\n}\r\n\r\n/**\r\n * Function to save values to local storage with a key\r\n * @param key Key to save inside the local storage\r\n * @param value Value to save with the key inside local storage\r\n */\r\nexport function saveProperty(key: string, value: any) {\r\n  try {\r\n    localStorage[key] = JSON.stringify(value)\r\n  } catch (err) {\r\n    console.error(err)\r\n  }\r\n}\r\n\r\n/**\r\n * Removes a key/value pair from local storage\r\n * @param key Key to remove from local storage\r\n */\r\nexport function removeProperty(key: string) {\r\n  try {\r\n    delete localStorage[key]\r\n  } catch (err) {\r\n    console.error(err)\r\n  }\r\n}","import { AnyAction } from 'redux'\r\nimport { initialState } from '../../statics/reducers'\r\nimport { IAppProps } from '../../statics/types'\r\n\r\nexport function appReducer(state : IAppProps = initialState.app, action: AnyAction) {\r\n  switch(action.type) {\r\n    case 'SET_DATA':\r\n      return Object.assign({}, state, { data: action.data })\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import { AnyAction } from 'redux'\r\nimport { initialState } from '../../statics/reducers'\r\nimport { IAuthObject, ILoginProps } from '../../statics/types'\r\nimport { removeProperty, saveProperty } from '../../utils/cookies'\r\n\r\nexport function loginReducer(state : ILoginProps = initialState.login, action: AnyAction) {\r\n  switch(action.type) {\r\n    case 'SET_AUTH':\r\n      console.log(action)\r\n\r\n      saveProperty('auth', action.auth)\r\n      return Object.assign({}, state, { auth: action.auth })\r\n\r\n    case 'CLEAR_AUTH':\r\n      removeProperty('auth')\r\n      const emptyAuth : IAuthObject = {\r\n        username: null,\r\n        token: null,\r\n        timestamp: null,\r\n      }\r\n      return Object.assign({}, state, { auth: emptyAuth })\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { syncTranslationWithStore } from 'react-redux-i18n'\nimport { Route, RouteComponentProps, Switch } from 'react-router'\nimport { HashRouter } from 'react-router-dom'\nimport { AnyAction, createStore, Store } from 'redux'\n\nimport App from './components/app/App'\nimport Login from './components/login/Login'\nimport Register from './components/register/Register'\nimport Terminal from './components/terminal/Terminal'\n\nimport { combinedReducers, initialState } from './statics/reducers'\nimport { IRootProps } from './statics/types'\n\nimport './fontawesome/css/fontawesome-all.css'\nimport './index.css'\n\nconst store : Store<IRootProps & RouteComponentProps<any>, AnyAction> = createStore(combinedReducers, initialState)\nsyncTranslationWithStore(store)\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter basename={'/'}>\n      <Switch>\n        <Route path=\"/terminal\" component={Terminal} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/\" component={App} />\n      </Switch>\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root') as HTMLElement\n)"],"sourceRoot":""}